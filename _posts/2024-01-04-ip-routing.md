---
layout: post
title: IP Routing
tags: [네트워크, IP Routing]
categories: [네트워크, IP Routing]
image:
  path: /assets/img/post/network/ip-routing.webp
  alt: ip-routing
date: 2024-01-04 23:20 +0900
---

## IP Routing

IP Routing은 인터넷 및 기타 여러 컴퓨터 네트워크 기능의 핵심 프로세스로, **상호 연결된 네트워크를 통해 소스에서 대상으로 데이터 패킷을 이동하는 작업**이 포함된다. 자세히 알아보자. ??

### Router

- **기능**: **서로 다른 IP 네트워크 간의 트래픽을 관리하는 장치**이다. 들어오는 네트워크 패킷을 수신하고 대상 주소를 검사한 후 보낼 위치를 결정한다.
- **라우팅 테이블**: 각 라우터는 **패킷을 다른 네트워크로 전달하는 방법에 대한 정보가 포함된 테이블**이다.
  - **네트워크 대상**: 대상 네트워크의 IP 주소
  - **넷마스크**: IP 주소의 네트워크 부분을 결정하는 서브넷 마스크
  - **게이트웨이**: 대상 네트워크에 도달하기 위해 데이터를 전송해야 하는 다음 홉 장치의 IP 주소
    - **홉**: 패킷이 **최종 목적지로 이동하는 동안 전달되는 다음 장치**로서, 일반적으로 라우팅 결정을 내리는 기능이 있는 라우터 또는 네트워크 계층에 스위치이다.
  - **인터페이스**: 데이터가 종료되어야 하는 라우터의 특정 인터페이스
    - **물리적 인터페이스**
      - 라우터의 이더넷 포트(예: eth0, eth1)나 컴퓨터의 네트워크 카드와 같은 네트워크 장치의 실제 하드웨어 포트
    - **가상 인터페이스**
      - 스위치의 가상 LAN(VLAN) 인터페이스 또는 라우터의 루프백 인터페이스와 같은 소프트웨어 기반 인터페이스
  - **메트릭**: 나열된 경로를 통해 대상 네트워크에 도달하는 ＂비용＂을 나타내는 값

![routing-table](/assets/img/post/network/routing-table.jpg){: width=＂700＂ }

### 정적 라우팅과 동적 라우팅

- **정적 라우팅**: **경로가 라우팅 테이블에 수동으로 입력**되며, 간단하지만 대규모 네트워크에서는 확장이 불가능하다.
- **동적 라우팅**: **라우터가 서로 통신하여 테이블을 자동으로 업데이트**하며, BGP, OSPF, RIP와 같은 프로토콜이 사용된다.

### Routing 프로토콜

#### BGP(Border Gateway Protocol)

일반적으로 **호스팅 회사, ISP(인터넷 서비스 제공업체) 및 다양한 AS(자율 시스템) 간의 에지 라우터(서로 다른 두 네트워크 사이의 중간 장치) 간 라우팅** 및 연결 가능성 정보 교환을 통해 인터넷을 통해 패킷이 라우팅되는 방식을 관리하는 데 사용된다.

- **경로 벡터 프로토콜**: BGP는 라우팅 정보가 통과하는 자율 시스템 목록인 다양한 네트워크 대상에 대한 경로를 유지 관리하기 때문에 경로 벡터 프로토콜로 간주한다.
- **도메인 간 라우팅**: BGP는 **서로 다른 도메인**이나 자율 시스템 간의 라우팅에 사용된다.
- **정책 기반 라우팅**: BGP는 **네트워크 정책 또는 규칙 세트**를 기반으로 하는 복잡한 라우팅 정책을 허용한다.
- **확장성 및 신뢰성**: **광범위한 글로벌 인터넷 인프라를 지원**하기 위해 강력하고 확장할 수 있도록 설계되었다.

#### OSPF (Open Shortest Path First)

**대규모 기업** 및 ISP, 특히 단일 자율 시스템 내에서 사용되는 라우팅 프로토콜이다.

- **링크 상태 프로토콜**: 라우터는 **가장 가까운 이웃과 토폴로지 정보를 교환**한다. 각 OSPF 라우터는 네트워크에 대한 연결 맵을 구성한 다음 이를 사용하여 각 노드에 대한 최단 경로를 결정한다.
- **서브넷 지원**: OSPF는 서브넷을 지원하고 IP 주소를 사용하여 최적의 경로를 결정한다.
- **빠른 경로 계산**: 다른 프로토콜보다 더 빠르게 최적의 경로를 계산할 수 있다.
- **확장성**: 네트워크를 영역이라는 **계층적 도메인으로 세분화하여 더 큰 네트워크 크기로 확장**할 수 있다.

#### RIP (Routing Information Protocol)

가장 오래된 라우팅 프로토콜 중 하나로서, **중소규모 네트워크용**으로 설계된 IGP이다.

- **거리 벡터 프로토콜**: 실제 네트워크 **대역폭이나 혼잡을 고려하지 않고 패킷이 통과해야 하는 홉(라우터) 수에 따라 네트워크 대상까지의 최적 경로를 결정**하는 거리 벡터 프로토콜이다.
- **홉 제한**: RIP에 허용되는 **최대 홉 수는 15**
- **느린 경로 계산**: OSPF 보다 속도가 느리므로 네트워크 변경 후 임시 라우팅 루프가 발생하고 중지 시간이 길어질 수 있다.
- **구현이 간단함**: RIP는 **단순성 덕분에 구성 및 관리가 간편**하므로 고급 기능이 없어도 소규모 네트워크에 적합하다.
