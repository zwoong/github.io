---
layout: post
title: λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ
tags: [μ»΄ν“¨ν„° κµ¬μ΅°, λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ]
categories: [μ»΄ν“¨ν„° κµ¬μ΅°, λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ]
date: 2023-12-11 22:50 +0900
---

## λ…λ Ήμ–΄ μ‚¬μ΄ν΄

μ»΄ν“¨ν„° μ¤‘μ•™ μ²λ¦¬ μ¥μΉ(CPU)μ κΈ°λ³Έ μ‘λ™ ν”„λ΅μ„Έμ¤λ΅μ„, μ΄ μ£ΌκΈ°λ” **μ»΄ν“¨ν„°κ°€ ν”„λ΅κ·Έλ¨μ λ‹¨μΌ λ…λ Ήμ„ μ²λ¦¬ν•λ” λ°©μ‹**μ΄λ‹¤. <br>
μ»΄ν“¨ν„°κ°€ λ‹¤μ–‘ν• μ‘μ—…μ„ μν–‰ν•κΈ° μ„ν•΄ μΌλ ¨μ λ…λ Ήμ„ μ‹¤ν–‰ν•λ” λ°©λ²•μ„ μ΄ν•΄ν•΄ λ³΄μ. π‰

### λ…λ Ήμ–΄ μ‚¬μ΄ν΄ λ‹¨κ³„

![instruction-cycles](/assets/img/post/computer-architecture/instruction-cycles.webp){: width="600" }

1. **ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°(PC)**: **μ‹¤ν–‰λ  λ‹¤μ λ…λ Ήμ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ³΄μ **ν•λ‹¤. λ©”λ¨λ¦¬μ ν›„μ† λ…λ Ήμ–΄λ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ κ° νμΉ μ‚¬μ΄ν΄ ν›„μ— μ¦κ°€ν•λ‹¤.
2. **Fetch**: **PCκ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ£Όμ†μ—μ„ λ…λ Ήμ–΄λ¥Ό μ½λ” μ‘μ—…**μ„ ν•λ‹¤. μ΄ μ£Όμ†μ λ…λ Ήμ–΄λ” λ…λ Ήμ–΄ λ μ§€μ¤ν„°(IR)μ— μ €μ¥λλ‹¤.
3. **λ…λ Ή λ μ§€μ¤ν„°(IR)**: λ””μ½”λ“ λ° μ‹¤ν–‰ λ‹¨κ³„ λ™μ• ν„μ¬ κ°€μ Έμ¨ λ…λ Ήμ„ λ³΄μ ν•λ‹¤. μ΄λ” CPUκ°€ μ‘μ—… μ¤‘μΈ ν„μ¬ λ…λ Ήμ„ μ„μ‹λ΅ λ³΄κ΄€ν•λ” μ¥μ†μ΄λ‹¤.
4. **Decode**: λ””μ½”λ“ λ‹¨κ³„μ—λ” IRμ—μ„ κ°€μ Έμ¨ **λ…λ Ήμ–΄λ¥Ό ν•΄μ„**ν•λ‹¤. μ΄λ” opcodeλ¥Ό λ””μ½”λ”©ν•μ—¬ μ–΄λ–¤ μ‘μ—…μ΄ ν•„μ”ν•μ§€ κ²°μ •ν•κ³  λ…λ Ήμ–΄μ— ν¬ν•¨λ λ μ§€μ¤ν„° λλ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ‹λ³„ν•λ” μ‘μ—…λ„ ν¬ν•¨ν•λ‹¤.
5. **Register**: λ°μ΄ν„°λ¥Ό μ„μ‹λ΅ λ³΄κ΄€ν•λ” λ° μ‚¬μ©λλ” CPUμ μ‘μ€ μ €μ¥ μμ—­μ΄λ‹¤.
6. **Execute**: μ΄ λ‹¨κ³„μ—μ„λ” CPUκ°€ λ…λ Ήμ— ν•„μ”ν• μ‘μ—…μ„ μν–‰ν•λ‹¤. μ΄λ” μ‚°μ  κ³„μ‚°, ν• λ μ§€μ¤ν„°μ—μ„ λ‹¤λ¥Έ λ μ§€μ¤ν„°λ΅ λ°μ΄ν„° μ΄λ™ λλ” λ©”λ¨λ¦¬μ™€μ μƒνΈ μ‘μ©μΌ μ μμΌλ©°, μ—°μ‚°μ— μ‚°μ μ΄λ‚ λ…Όλ¦¬κ°€ ν¬ν•¨λλ” κ²½μ° ALU(μ‚°μ  λ…Όλ¦¬ μ¥μΉ)μ— μν•΄ μν–‰λλ‹¤.
7. **Memory**: λ…λ Ήμ–΄μ— RAM μ½κΈ° λλ” μ“°κΈ°κ°€ ν•„μ”ν• κ²½μ° μ‹¤ν–‰ λ‹¨κ³„μ— ν•΄λ‹Ή μ‘μ—…μ΄ ν¬ν•¨λλ‹¤.
8. **Writeback**: **μ‹¤ν–‰ λ‹¨κ³„μ κ²°κ³Όκ°€ λ μ§€μ¤ν„°λ‚ λ©”λ¨λ¦¬ μ„μΉμ— λ‹¤μ‹ κΈ°λ΅**λλ‹¤. μλ¥Ό λ“¤μ–΄, λ…λ Ήμ–΄κ°€ μ‚°μ  μ—°μ‚°μΌ λ• κ²°κ³Όλ” μ§€μ •λ λ μ§€μ¤ν„°μ— μ €μ¥λλ‹¤.

## μΈν„°λ½νΈ

CPUκ°€ **κΈ΄κΈ‰ μ‘μ—…μ„ μν–‰ν•κΈ° μ„ν•΄ ν„μ¬ ν™λ™μ„ μΌμ‹μ μΌλ΅ μ¤‘λ‹¨ν• λ‹¤μ μ›λ μ‘μ—…μ„ μ¬κ°**ν•  μ μκ² ν•΄μ¤€λ‹¤.

### μΈν„°λ½νΈ μ ν•

- **ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ**: ν•λ“μ›¨μ–΄ μ¥μΉ(μ: ν‚¤λ³΄λ“, λ§μ°μ¤ λλ” λ„¤νΈμ›ν¬ μ–΄λ‘ν„°)μ— μν•΄ μƒμ„±λμ–΄ CPUμ μ£Όμκ°€ ν•„μ”ν•λ‹¤λ” μ‹ νΈλ¥Ό λ³΄λ‚Έλ‹¤.
- **μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ**: μ΄λ” μΆ…μΆ… μ‹μ¤ν… νΈμ¶μ„ ν†µν•΄ ν”„λ΅κ·Έλ¨μ΄λ‚ μ΄μ μ²΄μ μ— μν•΄ μƒμ„±λλ‹¤. νμΌ μ•΅μ„Έμ¤ λλ” λ©”λ¨λ¦¬ ν• λ‹Ήκ³Ό κ°™μ€ μ΄μ μ²΄μ μ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•λ” λ° μ‚¬μ©λλ‹¤.

### μΈν„°λ½νΈ μ‘λ™ λ°©μ‹

![interrupt-handler](/assets/img/post/computer-architecture/interrupt-handler.webp){: width="700" }

1. **ν”„λ΅κ·Έλ¨ λ…λ Ήμ μμ°¨μ  μ‹¤ν–‰**: CPUλ” ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  ν•΄λ‹Ή λ…λ Ήμ„ μμ„λ€λ΅ μ‹¤ν–‰ν•λ‹¤.
2. **ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ**: ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μ‹ νΈκ°€ λ°μƒν–λ‹¤.
3. **ν”„λ΅κ·Έλ¨ μ μ–΄κ°€ ISRλ΅ μ΄λ™**: μΈν„°λ½νΈ μ‹ νΈκ°€ λ°μƒν•λ” μ¦‰μ‹ **ν”„λ΅κ·Έλ¨μ μ •μƒμ μΈ μ‹¤ν–‰μ΄ μ¤‘λ‹¨**λκ³  CPUλ” ν„μ¬ ν”„λ΅κ·Έλ¨μ λ…λ Ή μ‹¤ν–‰μ„ μΌμ‹ μ¤‘μ§€ν•λ‹¤.
   κ·Έλ° λ‹¤μ CPUλ” μ΄ νΉμ • μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ„λ΅ μ§€μ •λ [ISR(μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄)](https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8_%ED%95%B8%EB%93%A4%EB%9F%AC)μ΄ ν¬ν•¨λ λ©”λ¨λ¦¬μ νΉμ • μ„μΉλ΅ μ΄λ™ν•λ‹¤.
4. ISR μ‹¤ν–‰: ISRμ€ **μΈν„°λ½νΈλ¥Ό κ΄€λ¦¬ν•λ” μ½”λ“κ°€ ν¬ν•¨λ νΉμ ν•¨μ**μ΄λ‹¤. ISRμ€ I/O μ²λ¦¬ λλ” κΈ΄κΈ‰ λ°μ΄ν„° μ²λ¦¬μ™€ κ°™μ€ μΈν„°λ½νΈμ μ¦‰κ°μ μΈ μ”κµ¬λ¥Ό μ²λ¦¬ν•λ‹¤.
5. μ¤‘λ‹¨λ ν”„λ΅κ·Έλ¨μΌλ΅ λ³µκ·€: ISR μ‹¤ν–‰μ΄ μ™„λ£λ ν›„ CPUλ” λ‹¤μ‹ μ§„ν–‰μ¤‘μ΄μ—λ ν”„λ΅κ·Έλ¨μΌλ΅ λ³µκ·€ν•λ‹¤.
6. μ¤‘λ‹¨λ λ¶€λ¶„λ¶€ν„° μμ°¨μ μΌλ΅ λ…λ Ήμ„ μ‹¤ν–‰ν•λ‹¤.

### μΈν„°λ½νΈ νΉμ„±

- **μ„ μ ν• λ©€ν‹°νƒμ¤ν‚Ή**: μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ΄μ μ²΄μ κ°€ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤λ¥Ό μ¤‘λ‹¨ν•κ³ , λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤μ μ‹κ°„μ„ μ κ³µν•΄ μ‹μ¤ν…μ μ „λ°μ μΈ ν¨μ¨μ„±κ³Ό μ‘λ‹µμ„±μ„ ν–¥μƒν•  μ μλ” [μ„ μ ν• λ©€ν‹°νƒμ¤ν‚Ή](https://namu.wiki/w/%EB%A9%80%ED%8B%B0%ED%83%9C%EC%8A%A4%ED%82%B9)μ΄ κ°€λ¥ν•λ‹¤.
- **λΉ„λ™κΈ° μ΄λ²¤νΈ**: μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•λ©΄ CPUκ°€ λΉ„λ™κΈ° μ΄λ²¤νΈμ— μ‘λ‹µν•  μ μλ‹¤. μ¦‰, CPUμ μ£Όμ” ν™λ™κ³Ό κ΄€κ³„μ—†μ΄ μ–Έμ λ“ μ§€ λ°μƒν•  μ μλ” μ΄λ²¤νΈλ¥Ό μλ―Έν•λ‹¤.
- **μ°μ„ μμ„ μ²λ¦¬**: μΌλ¶€ μ‹μ¤ν…μ—λ” μΈν„°λ½νΈμ— λ€ν• μ°μ„ μμ„ μμ¤€μ΄ μμ–΄ λ” μ¤‘μ”ν• μΈν„°λ½νΈλ¥Ό λ μ¤‘μ”ν• μΈν„°λ½νΈλ³΄λ‹¤ λ¨Όμ € μ²λ¦¬ν•  μ μλ‹¤.
- **ν¨μ¨μ„±**: μΈν„°λ½νΈκ°€ μ—†μΌλ©΄ CPUλ” **μ£Όμκ°€ ν•„μ”ν•μ§€ ν™•μΈν•κΈ° μ„ν•΄ λ¨λ“  μ¥μΉλ¥Ό μ§€μ†ν•΄μ„ ν™•μΈ(ν΄λ§)**ν•΄μ•Ό ν•λ”λ° μ΄λ” λ§¤μ° λΉ„ν¨μ¨μ μ΄λ‹¤. μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•λ©΄ ν•„μ”ν•  λ•λ§ CPUμ— μ£Όμ„λ¥Ό μ¤„ μ μλ‹¤.
