---
layout: post
title: IP 주소 및 서브넷
tags: [네트워크, IP 주소 및 서브넷]
categories: [네트워크, IP 주소 및 서브넷]
image:
  path: /assets/img/post/network/ip-address.jpg
  alt: ip-address
date: 2024-01-03 00:15 +0900
---

## IP 주소

IP 주소는 컴퓨터 네트워크에서 **장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호**이다.

### IP 주소 형식

- **IPv4**: **가장 널리 사용되는 버전**으로, IPv4 주소는 일반적으로 마침표로 구분된 4개의 옥텟(예: 192.168.1.1)으로 10진수 형식으로 표시되는 32비트 숫자이다. 각 옥텟의 범위는 0부터 255까지이다.
- **IPv6**: **IPv4 주소 고갈을 극복하기 위해 개발된 IPv6 주소는 128비트 숫자**이다. 일반적으로 16진수로 작성되며 콜론으로 구분된다(예: 2001:0db8:85a3:0000:0000:8a2e:0370:7334).

![ipv4-vs-ipv6](/assets/img/post/network/ipv4-vs-ipv6.webp){: width="700" }

### IP 주소 유형

- **공개 IP 주소**: 인터넷에서 사용되며 전체 웹에서 **고유한 IP 주소**이다.
- **개인 IP 주소**: **개인 네트워크(예: 집 또는 사무실 네트워크) 내에서 사용**되며 인터넷에서 라우팅할 수 없다. 일반적인 개인 IP 범위에는 192.168.x.x, 10.x.x.x 및 172.16.x.x - 172.31.x.x가 포함된다.

![public-ip-vs-private-ip](/assets/img/post/network/public-ip-vs-private-ip.png){: width="700" }

### 고정 IP 주소와 동적 IP 주소

- **고정 IP 주소**: **영구적이며 변경되지 않는다**. 이는 일정한 주소를 유지해야 하는 서버나 기타 장치에 중요하다.
- **동적 IP 주소**: **장치가 연결될 때 네트워크에 의해 할당되며 시간이 지남에 따라 변경**될 수 있다. 이는 DHCP(동적 호스트 구성 프로토콜)에 의해 관리된다.

### 서브네팅

서브넷팅은 **단일 IP 네트워크를 서브넷이라고 하는 여러 개의 작은 네트워크 세그먼트로 나누는 데 사용되는 네트워크 설계 전략**이다. 이는 효율적인 네트워크 관리 및 보안을 위해 필수적이며, 세부 사항을 함께 살펴보자. 😉

#### 서브넷팅을 사용하는 이유

- **효율성 향상**: 서브넷은 **제한된 수의 IP 주소를 효율적으로 사용하는 데 도움**이 될 수 있다.
- **향상된 보안**: 서브넷 내의 **각 IP 주소에 다른 보안 정책을 채택**할 수 있다.
- **네트워크 트래픽 감소**: 대규모 네트워크를 서브넷으로 분할하면 브로드캐스트(자신의 호스트가 속해 있는 네트워크 전체를 대상으로 패킷을 전송하는 일대다 통신방식) 트래픽을 각 서브넷 내에서 격리하여 정체를 줄일 수 있다.

#### 서브넷 마스크

컴퓨터나 장치가 **IP 주소를 네트워크 부분과 호스트 부분의 두 부분으로 나누는 방법을 설명하는 숫자 값**으로, **네트워크 요소는 컴퓨터가 속한 네트워크를 식별**하고 **호스트 부분은 해당 네트워크의 고유한 컴퓨터를 식별**한다. 서브넷 마스크를 사용하면 같은 네트워크에 있거나 네트워크 전체에 있는 장치가 서로 상호 작용할 수 있다. ❗️

![subnet-mask-diagram](/assets/img/post/network/subnet-mask-diagram.png){: width="700" }

#### IP 주소의 클래스

IP 주소를 클래스 A, B, C, D, E로 나누는 것은 **다양한 크기의 네트워크를 수용하기 위한 특히 IPv4용 인터넷 프로토콜(IP)의 설계의 일부**이다. 이 시스템을 클래스풀 네트워킹이라고 하며, 이러한 클래스의 주요 특징과 이유는 다양한 유형의 조직과 용도를 수용할 수 있는 다양한 네트워크 크기를 제공하기 위한 것이다.

![classful-ip-addressing](/assets/img/post/network/classful-ip-addressing.jpg){: width="700" }

- **Class A**
  - **범위**: 1.0.0.0 ~ 126.0.0.0
  - **서브넷 마스크**: 255.0.0.0
  - **특성**
    - 수백만 대의 장치를 보유한 대규모 조직을 위해 설계되었다.
    - 1,600만 개의 주소를 제공한다(2^24 - 2, 네트워크 및 브로드캐스트 주소 제외).
- **Class B**
  - **범위**: 128.0.0.0 ~ 191.255.0.0
  - **서브넷 마스크**: 255.255.0.0
  - **특성**
    - 대학이나 대기업과 같은 중간 규모 네트워크에 적합하다.
    - 65,536개의 주소(2^16 - 2)를 제공한다.
- **Class C**
  - **범위**: 192.0.0.0 ~ 223.255.255.0
  - **서브넷 마스크**: 255.255.255.0
  - **특성**
    - 중소기업과 같은 소규모 네트워크에 이상적이다.
    - 256개의 주소(2^8 - 2)를 제공한다.
- **Class D(멀티캐스트)**
  - **범위**: 224.0.0.0 ~ 239.255.255.255
  - **특성**
    - 표준 호스트 주소에는 사용되지 않으며, 멀티캐스트 그룹 전용이다.
    - 스트리밍 비디오 및 원격 회의와 같은 멀티캐스트 그룹(일대다 또는 다대다 배포)에 사용된다.
- **Class E(실험)**
  - **범위**: 240.0.0.0 ~ 255.255.255.254
  - **특성**
    - 실험 목적으로 예약되었으며, 공용 네트워크에서는 사용되지 않는다.
    - 향후 사용 또는 연구 및 개발 목적으로 예약된다.

#### CIDR(Classless Inter-Domain Routing) 표기법

- **CIDR 형식**: 서브넷 마스크는 /24와 같은 CIDR 표기법으로 표시되는 경우가 많다. 슬래시 뒤의 숫자는 **서브넷 마스크에서 연속된 '1'의 수**를 나타낸다.
- **/24의 경우**: 이는 서브넷 마스크의 처음 24비트가 '1'이고 나머지 비트가 '0'임을 의미한다.
  - /24 CIDR의 경우 바이너리 서브넷 마스크는 11111111.11111111.11111111.00000000이다.
  - 10진수: 각 2진수 옥텟을 10진수로 변환하며, 255.255.255.0을 제공한다.
- **계산 예시**
  - **/24 네트워크**: /24는 255.255.255.0으로 변환된다.
  - **/16 네트워크**: /16은 255.255.0.0으로 변환된다.
  - **/30 네트워크**: /30은 255.255.255.252으로 변환된다.

> 그렇다면 내 컴퓨터에 IP와 서브넷 마스크를 확인 해보자. 😉

```shell
ifconfig

en0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500
	options=6460<TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM>
	ether f8:ff:c2:5f:cc:3f
	inet6 fe80::c95:ed79:a7d2:b025%en0 prefixlen 64 secured scopeid 0x6
	inet 192.168.1.101 netmask 0xffffff00 broadcast 192.168.1.255
	nd6 options=201<PERFORMNUD,DAD>
	media: autoselect
	status: active
```

- **IP**: 192.168.1.101
- **서브넷 마스크**: 0xffffff00(16진수로 표현)를 10진수로 표현하면 255.255.255.0

#### 서브넷 마스크 계산법 ❗️

IP 주소와 서브넷 마스크를 사용하여 네트워크 ID와 사용 가능한 호스트 수를 계산하려면 다음 단계를 거치면 된다.

- **예시**: IP 주소가 '192.168.1.101'이고 서브넷 마스크가 '255.255.255.0'이라고 가정
  - **바이너리로 변환**
    - **IP 주소** : 11000000.10101000.00000001.01100101
    - **서브넷 마스크**: 11111111.11111111.11111111.00000000
  - **비트 AND 연산**
    - **결과**: 11000000.10101000.00000001.00000000(네트워크 ID의 바이너리 형식)
  - **십진수로 변환**
    - **네트워크 ID**: 192.168.1.0(10진수 형식)
    - **서브넷 마스크에서 0의 개수**: 8
  - **호스트 수 계산**:
    - 서브넷에서 사용 가능한 호스트 주소 수는 2n−2 공식을 사용하여 계산된다. 여기서 'n'은 서브넷 마스크의 호스트 부분에 0의 개수이다.
    - **결과**: 28−2=256−2=254개
